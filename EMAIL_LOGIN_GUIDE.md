# 📧 מדריך התחברות עם אימייל

## 🎯 מה הושלם

המערכת תומכת כעת **בשתי שיטות התחברות**:

### 1️⃣ התחברות טלפון (קיים)
- **נתיב**: `/login`
- **משתמשים**: נהגים ומשתמשים עם טלפון
- **שיטות**: OTP (SMS) או סיסמה
- **API**: `/api/phone-auth/*`

### 2️⃣ התחברות אימייל (חדש) ⭐
- **נתיב**: `/email-login`
- **משתמשים**: מנהלים, סדרנים, הנהלת חשבונות, Super Admin
- **שיטה**: אימייל + סיסמה
- **API**: `/api/auth/login`

---

## 🔧 מה שונה

### Frontend Updates

1. **דף התחברות עיקרי** (`/login`)
   - הוספנו כפתור "📧 התחבר עם אימייל וסיסמה"
   - מוביל לדף email-login

2. **דף התחברות אימייל חדש** (`/email-login`)
   - טופס אימייל + סיסמה
   - תמיכה ב-Super Admin (מעבר ל-`/super-admin`)
   - תמיכה במשתמשים רגילים (מעבר ל-`/dashboard`)
   - קישור חזרה להתחברות טלפון
   - הודעות שגיאה בעברית

### Backend (קיים - לא שונה)

- `/api/auth/login` תומך באימייל + סיסמה
- JWT כולל `org_id`, `is_super_admin`, `org_role`
- סינון ארגונים מושעים

---

## 🚀 איך להשתמש

### למנהלים/סדרנים
1. כנס ל-`http://localhost:3010/login`
2. לחץ "📧 התחבר עם אימייל וסיסמה"
3. הזן אימייל וסיסמה
4. תועבר לדשבורד

### ל-Super Admin
1. כנס ל-`http://localhost:3010/email-login`
2. הזן אימייל Super Admin (למשל: `admin@system.local`)
3. הזן סיסמה (למשל: `changeme123`)
4. תועבר לפאנל Super Admin

### לנהגים
1. השתמש בדף הטלפון הרגיל (`/login`)
2. הזן מספר טלפון
3. בחר OTP או סיסמה

---

## 🔐 הרשאות

| סוג משתמש | שיטת התחברות מומלצת | יעד אחרי התחברות |
|-----------|-------------------|------------------|
| Super Admin | Email | `/super-admin` |
| מנהל | Email או Phone | `/dashboard` |
| סדרן | Email או Phone | `/dashboard` |
| הנהלת חשבונות | Email או Phone | `/dashboard` |
| נהג | Phone בלבד | `/dashboard` (נהג) |

---

## 📋 משתמשי דמו

### משתמשי טלפון (דף `/login`)
- מנהל: `050-123-4567`
- סדרן: `050-123-4568`
- הנהלת חשבונות: `050-123-4569`
- נהג: `050-777-1111`

### משתמש אימייל (דף `/email-login`)
- Super Admin: `admin@system.local` / `changeme123`

---

## 🛠️ קבצים שונו

```
frontend/src/app/login/page.tsx         # הוספת כפתור לאימייל
frontend/src/app/email-login/page.tsx   # דף התחברות אימייל חדש
```

---

## ✅ בדיקה

1. **התחברות טלפון עובדת** - `/login`
2. **התחברות אימייל עובדת** - `/email-login`
3. **ניווט בין הדפים עובד** - כפתורים דו-כיווניים
4. **Super Admin redirect** - לפאנל Super Admin
5. **משתמשים רגילים redirect** - לדשבורד

---

## 🎨 UX Features

- 🔐 סיסמה עם אייקון עין (show/hide)
- 📱 Responsive design
- 🌐 ממשק בעברית
- ⚡ Loading states
- ❌ הודעות שגיאה ברורות
- 🔄 ניווט קל בין שיטות התחברות

---

**Status**: ✅ הושלם - המערכת תומכת בשתי שיטות התחברות