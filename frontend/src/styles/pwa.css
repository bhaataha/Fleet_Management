/* Mobile-optimized styles for PWA */
@tailwind base;
@tailwind components;
@tailwind utilities;

@layer utilities {
  /* PWA-specific utilities */
  .safe-top {
    padding-top: env(safe-area-inset-top);
  }
  
  .safe-bottom {
    padding-bottom: env(safe-area-inset-bottom);
  }
  
  .safe-left {
    padding-left: env(safe-area-inset-left);
  }
  
  .safe-right {
    padding-right: env(safe-area-inset-right);
  }

  /* Touch-friendly tap targets */
  .touch-target {
    min-height: 44px;
    min-width: 44px;
  }

  /* Prevent text selection on tap */
  .no-tap-highlight {
    -webkit-tap-highlight-color: transparent;
    -webkit-touch-callout: none;
    -webkit-user-select: none;
    user-select: none;
  }

  /* Smooth scrolling for iOS */
  .smooth-scroll {
    -webkit-overflow-scrolling: touch;
  }

  /* PWA Animations */
  @keyframes slide-up {
    from {
      transform: translateY(100%);
      opacity: 0;
    }
    to {
      transform: translateY(0);
      opacity: 1;
    }
  }

  @keyframes slide-down {
    from {
      transform: translateY(-100%);
      opacity: 0;
    }
    to {
      transform: translateY(0);
      opacity: 1;
    }
  }

  .animate-slide-up {
    animation: slide-up 0.3s ease-out;
  }

  .animate-slide-down {
    animation: slide-down 0.3s ease-out;
  }

  /* Pull to refresh indicator */
  .ptr-indicator {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    height: 60px;
    display: flex;
    align-items: center;
    justify-content: center;
    background: linear-gradient(180deg, rgba(59, 130, 246, 0.1) 0%, transparent 100%);
    transform: translateY(-100%);
    transition: transform 0.2s;
  }

  .ptr-indicator.pulling {
    transform: translateY(0);
  }
}

/* iOS specific styles */
@supports (-webkit-touch-callout: none) {
  body {
    /* Disable pull-to-refresh on iOS */
    overscroll-behavior-y: contain;
  }
  
  input, textarea, select {
    font-size: 16px !important; /* Prevent zoom on focus */
  }
}

/* Android specific styles */
@media (max-width: 768px) {
  /* Better scrolling on Android */
  * {
    -webkit-tap-highlight-color: rgba(0, 0, 0, 0.05);
  }
}

/* Desktop PWA styles */
@media (display-mode: standalone) {
  body {
    user-select: text; /* Allow text selection in PWA */
  }

  /* Custom title bar for desktop PWA */
  .pwa-titlebar {
    -webkit-app-region: drag;
    app-region: drag;
    padding-top: env(titlebar-area-height, 0);
  }

  .pwa-titlebar button {
    -webkit-app-region: no-drag;
    app-region: no-drag;
  }
}

/* Landscape orientation adjustments */
@media (orientation: landscape) and (max-height: 500px) {
  .mobile-nav {
    display: none;
  }
}
